desc:Audio TXRX

slider1:0<0,1,1{Send,Receive}>Mode
slider2:1<1,20>Pipe

@init
bpos=0;
buf_start_pos=8200;
buf_step=4100;

@slider
mode=slider1;
buf=buf_start_pos+buf_step*2*(slider2-1);

@block
mode==0 ?
( 
  gmem[buf]=0;
  bpos=0;
):(
  bpos=0;
);
bs=buf+1;

@sample

mode==0 ?
(
  gmem[bs+bpos]=spl0;
  gmem[bs+bpos+1]=spl1;
  spl0=spl0;
  spl1=spl1;

):(
  spl0=gmem[bs+bpos];
  spl1=gmem[bs+bpos+1];
);
bpos+=2;


